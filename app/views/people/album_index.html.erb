<% content_for :meta_tags do %>
    <%= render :partial => "facebook/album_opengraph_tags" %>
<% end %>


<div class="viewlist">
  <ul>
    <li class="header">
      Contributors
    </li>
    <%@contributors.each do | user | %>
        <%if (photo_count = @album.photos.find_all_by_user_id(user.id).length) > 0%>
               <%=render :partial => 'contributor', :locals => { :user => user, :photo_count => photo_count }%>
           <%else
               @inactive_contributors << user.name
        end%>
    <%end%>

    <% if @inactive_contributors.length > 0 || @nonuser_contributors > 0%>
        <li class="item">
           <div  class="header bar"></div>
            <div class="content">
            <%if @inactive_contributors.length > 0%>
                 <%=@inactive_contributors.join(',')%>
                 <%=(@nonuser_contributors > 0 ? 'and' : '')%>
            <%end%>
            <%if @nonuser_contributors > 0%>
                <%=@nonuser_contributors%>
                <%if  @inactive_contributors.length > 0%>
                  other
                <%end%>
            <%end%>
            less active contributors  
            </div>
           <div  class="header"> </div>
            <div  class="header"> </div>
        </li>
    <%end%>


    <% if @likers.length > 0 %>
        <li class="item">
          <div class="header bar">
            Who likes this album
          </div>
          <div class="title">
            <%@likers.each do |liker| %>
                <div class="badge">
                  <%= render :partial => 'users/stacked_badge', :locals => { :user => liker }    %>
                </div>
            <%end%>
          </div>
        </li>
    <%end%>
  </ul>

</div>







