<% content_for :meta_tags do %>
    <%= render :partial => "facebook/user_opengraph_tags" %>
<% end %>

<div class="viewlist">
  <ul>
    <li class="item">
      <div class="header bar">
        Activities
      </div>
    </li>
    <% @activities.each do |activity| %>
        <%next unless activity.payload_valid? && activity.display_for?(current_user)%>
        <%case activity %>
        <%  when CreateAlbumActivity then%>
            <%= render :partial => 'create_album_activity', :locals => {:activity => activity, :view => 'user' } %>
        <%  when LikeActivity then%>
            <%= render :partial => 'like_activity', :locals => {:activity => activity, :view => 'user' } %>
        <%  when InviteActivity then%>
            <%= render :partial => 'invite_activity', :locals => {:activity => activity, :view => 'user' } %>
        <%else%>
            <% #do not display any other kind of activity %>
        <%end%>
    <%end%>
  </ul>
</div>