<header>
  <div id="home-button"></div>
  <% if @album %>
      <div id="back-button"></div>
  <% end %>





  <div id="album-info" style="display:<%= @album ? 'inline-block' : 'none' %>">
    <h2 id="album-header-title"><%= truncate((@album ? @album.name : ''), :length => 30) %></h2>
    <h3><%= @album ? 'by ' + @album.user.username : '' %></h3>
  </div>

  <div id="user-info" style="display:<%= @user && !@user.changed? ? 'inline-block' : 'none' %>">
    <h2><img id="profile-picture" src="/images/user-icon-40x40.png" width="40" height="40"/><%= @user ? @user.username : '' %></h2>
  </div>


  <li id="nav-views">
    <% if @album %>
        <ul id="view-swap" class="clearfix">
          <li><a href="<%= '/albums/' + @album.id + '/photos' %>"><img src="<%= (controller.controller_name == 'photos' && (params[:view].nil? || params[:view]=='grid')) ? '/images/btn-grid-view-on.png' : '/images/btn-grid-view-off.png' %>" /></a></li>
          <li><a href="<%= '/albums/' + @album.id + '/photos?view=slideshow' %>"><img src="<%= (controller.controller_name == 'photos' && params[:view]=='slideshow') ? '/images/btn-photo-view-on.png' : '/images/btn-photo-view-off.png' %>" /></a></li>
          <li><a href="<%= '/albums/' + @album.id + '/activities' %>"><img src="<%= controller.controller_name == 'activities' ? '/images/btn-timeline-view-on.png' : '/images/btn-timeline-view-off.png' %>" /></a></li>
          <li><a href="<%= '/albums/' + @album.id + '/people' %>"><img src="<%= controller.controller_name == 'people' ? '/images/btn-people-view-on.png' : '/images/btn-people-view-off.png' %>" /></a></li>
        </ul>
    <% end %>
  </li>

  <div id="help-button"><div class="header-button-label">Help</div></div>


  <% if current_user %>
      <%= render :partial => 'layouts/acct_badge' %>
  <% else %>
      <div id="sign-in-button"><div class="header-button-label">Sign In</div></div>
  <% end %>


</header>




<div id="drawer" style="display:none;">
  <div class="body">
    <div id="drawer-content">
      <div id="drawer-tabs"></div>
      <div id="tab-content"></div>
    </div>
  </div>
  <div id="cancel-drawer-btn" style="display:none;">Cancel New Album</div>
</div>

<div id="small-drawer" style="display:none">
  <div id="sign-up" class="body" style="display:none;">
    <ul id="small-indicator" class="clearfix">
      <li id="step-join-on"></li>
      <li id="step-sign-in-off"></li>
    </ul>
    <%= render :partial => 'user_sessions/sign_up_form' %>
  </div>

  <div id="sign-in" class="body">
    <ul id="small-indicator" class="clearfix">
      <li id="step-join-off"></li>
      <li id="step-sign-in-on"></li>
    </ul>
    <div id="small-top">
      <h2>Sign in</h2>
      <h3>Welcome Back!</h3>
    </div>
    <%= render :partial => 'users/signin_form' %>
  </div>
</div>